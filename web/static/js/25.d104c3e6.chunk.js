(this["webpackJsonpfirst-project"]=this["webpackJsonpfirst-project"]||[]).push([[25],{194:function(e,a,t){},228:function(e,a,t){"use strict";t.r(a);var r,c,n,s=t(57),o=t(0),l=t.n(o),i=t(215),u=t(225),E=t(216),m=(t(194),t(1));!function(e){e[e.LOGIN=0]="LOGIN",e[e.REGISTER=1]="REGISTER"}(r||(r={})),function(e){e[e.UNKNOW_ERROR=0]="UNKNOW_ERROR",e[e.SUCCESS=1]="SUCCESS",e[e.USER_NOT_EXIST=2]="USER_NOT_EXIST",e[e.WRONG_PASSWORD=3]="WRONG_PASSWORD"}(c||(c={})),function(e){e[e.UNKNOW_ERROR=0]="UNKNOW_ERROR",e[e.SUCCESS=1]="SUCCESS",e[e.USER_ALREADY_EXIST=2]="USER_ALREADY_EXIST"}(n||(n={}));var b=t(18),N=/^\d{3,15}$/,O=t(195),S=t.n(O),R=t(196),d=t(63),f=t.n(d).a.create({baseURL:"http://localhost:8080"});f.interceptors.response.use((function(e){return e.data}),(function(e){console.log(e,"\u7f51\u7edc\u9519\u8bef")}));var p=function(){var e=Object(R.a)(S.a.mark((function e(a,t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",f.post("/login-or-register?type="+t,a));case 1:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),v=t(69);a.default=Object(m.g)(Object(b.b)((function(e){return{}}),(function(e){return{loadUserInfoToProps:function(a){e(Object(v.d)(a))}}}))((function(e){var a=e.loadUserInfoToProps,t=e.history,m=Object(o.useState)(r.LOGIN),b=Object(s.a)(m,2),O=b[0],S=b[1],R=Object(o.useState)(""),d=Object(s.a)(R,2),f=d[0],v=d[1],h=Object(o.useState)(""),I=Object(s.a)(h,2),C=I[0],U=I[1],_=Object(o.useState)(""),g=Object(s.a)(_,2),j=g[0],G=g[1],T=Object(o.useState)(""),L=Object(s.a)(T,2),k=L[0],W=L[1],w=function(){t.push("/home/discover")};return l.a.createElement("div",{className:"login"},l.a.createElement("div",{className:"content"},l.a.createElement("div",{className:"title"},O===r.LOGIN?"\u767b\u5f55":"\u6ce8\u518c"),l.a.createElement("div",{className:"col1"},l.a.createElement("div",{className:"label"},"\u8d26\u53f7:"),l.a.createElement("div",{className:"input"},l.a.createElement(u.a,{placeholder:"\u8bf7\u8f93\u5165\u8d26\u53f7",onChange:function(e){v(e.target.value)}}))),l.a.createElement("div",{className:"col1"},l.a.createElement("div",{className:"label"},"\u5bc6\u7801:"),l.a.createElement("div",{className:"input"},l.a.createElement(u.a,{placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",onChange:function(e){U(e.target.value)},type:"password"}))),O===r.REGISTER&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"col1"},l.a.createElement("div",{className:"label"},"\u786e\u8ba4\u5bc6\u7801:"),l.a.createElement("div",{className:"input"},l.a.createElement(u.a,{placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",onChange:function(e){W(e.target.value)},type:"password"}))),l.a.createElement("div",{className:"col1"},l.a.createElement("div",{className:"label"},"\u7528\u6237\u540d:"),l.a.createElement("div",{className:"input"},l.a.createElement(u.a,{placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d",onChange:function(e){G(e.target.value)}})))),l.a.createElement("div",{className:"regisOrLogin"},l.a.createElement("a",{onClick:function(){O===r.LOGIN?S(r.REGISTER):S(r.LOGIN)}},O===r.LOGIN?"\u6ca1\u6709\u8d26\u53f7\uff1f\u53bb\u6ce8\u518c":"\u5df2\u6709\u8d26\u53f7\uff0c\u53bb\u767b\u5f55")),l.a.createElement("div",{className:"confirm"},l.a.createElement("div",{className:"button"},l.a.createElement(E.a,{onClick:function(){if(O===r.LOGIN?""===f||""===C?(i.b.error("\u8d26\u53f7\u540d\u6216\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a"),!1):!!N.test(f)||(i.b.error("\u8d26\u53f7\u683c\u5f0f\u9519\u8bef"),!1):O===r.REGISTER?""===f||""===C?(i.b.error("\u8d26\u53f7\u540d\u6216\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a"),!1):N.test(f)?C===k||(i.b.error("\u4e24\u6b21\u8f93\u5165\u7684\u5bc6\u7801\u4e0d\u4e00\u81f4"),!1):(i.b.error("\u8d26\u53f7\u683c\u5f0f\u9519\u8bef"),!1):void 0){if(O===r.LOGIN){var e={accountNumber:Number(f),password:C};p(e,O).then((function(e){switch(e.resultCode){case c.UNKNOW_ERROR:i.b.error("\u767b\u5f55\u51fa\u73b0\u4e86\u9519\u8bef");break;case c.SUCCESS:i.b.success("\u767b\u5f55\u6210\u529f"),a(e.resultObj),w();break;case c.USER_NOT_EXIST:i.b.error("\u4e0d\u5b58\u5728\u8be5\u8d26\u53f7");break;case c.WRONG_PASSWORD:i.b.error("\u5bc6\u7801\u9519\u8bef");break;default:i.b.error("\u767b\u5f55\u51fa\u73b0\u4e86\u9519\u8bef")}})).catch(console.log)}if(O===r.REGISTER){var t={accountNumber:Number(f),password:C,userName:j};p(t,O).then((function(e){switch(e.resultCode){case n.UNKNOW_ERROR:i.b.error("\u6ce8\u518c\u51fa\u73b0\u4e86\u9519\u8bef");break;case n.SUCCESS:i.b.success("\u6ce8\u518c\u6210\u529f\uff0c\u5df2\u767b\u5f55"),a(e.resultObj),w();break;case n.USER_ALREADY_EXIST:i.b.error("\u8be5\u8d26\u53f7\u5df2\u88ab\u6ce8\u518c");break;default:i.b.error("\u6ce8\u518c\u51fa\u73b0\u4e86\u9519\u8bef")}})).catch(console.log)}}}},"\u786e\u8ba4"))),l.a.createElement("div",{className:"dontLogin"},l.a.createElement("a",{onClick:w},"\u4e0d\u60f3\u767b\u5f55\uff0c\u76f4\u63a5\u6d4f\u89c8\u8bfe\u7a0b"))))})))}}]);
//# sourceMappingURL=25.d104c3e6.chunk.js.map