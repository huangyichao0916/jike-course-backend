{"version":3,"sources":["store/action.ts","mock/course-lesson-data/index.js"],"names":["loginOrRegisterActionCreator","payload","type","constants","buyLessonActionCreator","setIsDotedToTrueActionCreator","addPurchasedLessonsToStudyPageActionCreator","addDataToPracticeCampActionCreator","addDataToCourseLessonActionCreator","refreshCourseLessonActionCreator","practiceCampBuyLessonActionCreator","price","index","lesson","dispatch","rechargeAndRecordActionCreator","howMuch","console","log","d","Date","newPayload","year","slice","time","number","addRecordToRechargeRecordActionCreator","lessonBuyLessonActionCreator","courseLessons","require","urlReg","Mock","mock","option","url","offset","parseInt","match","data"],"mappings":"qHAAA,+PAoBaA,EAA+B,SAACC,GACzC,MAAO,CACHC,KAAOC,IACPF,YAoCKG,EAAyB,SAACH,GACnC,MAAO,CACHC,KAAMC,IACNF,YAyCKI,EAAgC,SACzCJ,GAGA,MAAO,CACHC,KAAMC,IACNF,YAoBKK,EAA8C,SACvDL,GAEA,MAAO,CACHC,KAAMC,IACNF,YAWKM,EAAqC,SAC9CN,GAGA,MAAO,CACHC,KAAMC,IACNF,YAwBKO,EAAqC,SAC9CP,GAGA,MAAO,CACHC,KAAMC,IACNF,YAOKQ,EAAmC,SAC5CR,GAEA,MAAO,CACHC,KAAMC,IACNF,YAqCKS,EAAqC,SAC9CC,EACAC,EACAC,GAEA,OAAO,SAACC,GA7E6C,IACrDb,EA6EIa,EAASV,EAAuBO,IAChCG,EAAST,EAA8B,IACvCS,EAAST,EAA8B,IACvCS,EAAST,EAA8B,IACvCS,GAjFJb,EAiFuDW,EA9EhD,CACHV,KAAMC,IACNF,aA6EAa,EAASR,EAA4CO,MAGhDE,EAAiC,SAC1CC,GAEA,OAAO,SAACF,GAlLyB,IAACb,EAmL9Ba,GAnL8Bb,EAmLCe,EAjLnCC,QAAQC,IAAIjB,GACL,CACHC,KAAMC,IACNF,aA+KAa,EAvN8C,SAClDb,GAGA,IAAIkB,EAAIC,OAGJC,EAAoC,CACpCC,KAHeH,EAAEI,MAAM,GAAI,IAAMJ,EAAEI,MAAM,EAAG,GAAKJ,EAAEI,MAAM,EAAG,IAI5DC,KAHeL,EAAEI,MAAM,GAAI,IAI3BE,OAAQxB,GAEZ,MAAO,CACHC,KAAMC,IACNF,QAASoB,GAyMAK,CAAuCV,MAI3CW,EAA+B,SACxChB,EACAC,EACAC,GAEA,OAAO,SAACC,GA1DuC,IAC/Cb,EA0DIa,EAASV,EAAuBO,IAChCG,EAAST,EAA8B,IACvCS,EAAST,EAA8B,IACvCS,EAAST,EAA8B,IACvCS,EAASR,EAA4CO,IACrDC,GA/DJb,EA+DiDW,EA5D1C,CACHV,KAAMC,IACNF,gB,gCC9MR,qBACM2B,EAAgBC,EAAQ,IAExBC,EAAS,2CAEFC,IAAKC,KAAKF,GAAQ,SAAUG,GAAS,IACtCC,EAAQD,EAARC,IACFC,EAASC,SAASF,EAAIG,MAAMP,GAAQ,IAE1C,OAAIK,EAAS,IACF,KAGJ,CACHG,KAAMV,EAAcL,MAAMY,EAAQA,EAAS,IAC3CA,OAAQA,EAAS,Q","file":"static/js/2.093ce200.chunk.js","sourcesContent":["import '@/mock/course-lesson-data';\nimport * as constants from './constants';\nimport { ThunkAction } from 'redux-thunk';\nimport {\n    RootState,\n    MinePageDataItem,\n    CourseLessonItem,\n    PracticeCampItemInt,\n    StudyItemInt,\n    RechargeRecordItemInt,\n    UserInfoState,\n} from './types';\n\n/**\n * 登录注册相关的action和action creator\n */\nexport interface LoginOrRegisterAction{\n    type:constants.LOGIN_OR_RIGISTER;\n    [otherProps: string]: any;\n}\nexport const loginOrRegisterActionCreator = (payload:UserInfoState):LoginOrRegisterAction => {\n    return {\n        type : constants.LOGIN_OR_RIGISTER,\n        payload,\n    }\n}\n\n/**\n * 充值明细相关的action 和 action creator\n */\nexport interface AddRecordToRechargeRecordAction {\n    type: constants.ADD_RECORD_TO_RECHARGE_RECORD;\n    [otherProps: string]: any;\n}\nexport const addRecordToRechargeRecordActionCreator = (\n    payload: number\n): AddRecordToRechargeRecordAction => {\n    //payload为充值的数目\n    let d = Date();\n    let year: string = d.slice(11, 15) + d.slice(4, 7) + d.slice(8, 10);\n    let time: string = d.slice(16, 25);\n    let newPayload: RechargeRecordItemInt = {\n        year,\n        time,\n        number: payload,\n    };\n    return {\n        type: constants.ADD_RECORD_TO_RECHARGE_RECORD,\n        payload: newPayload,\n    };\n};\n\n/**\n * account相关的action creator\n */\nexport interface BuyLessonAction {\n    type: constants.BUY_LESSON;\n    [anyProps: string]: any;\n}\nexport const buyLessonActionCreator = (payload: number): BuyLessonAction => {\n    return {\n        type: constants.BUY_LESSON,\n        payload,\n    };\n};\nexport interface RechargeAction {\n    type: constants.RECHARGE;\n    [anyProps: string]: any;\n}\nexport const rechargeActionCreator = (payload: number): RechargeAction => {\n    //payload为充值的数目\n    console.log(payload);\n    return {\n        type: constants.RECHARGE,\n        payload,\n    };\n};\n\n/**\n * mineItemDateSource相关的action creator\n */\nexport interface AddDataToMinePageAction {\n    type: constants.ADD_DATA_TO_MINE_PAGE;\n    [anyProps: string]: any;\n}\nexport interface SetIsDotedToTrueAction {\n    type: constants.SET_IS_DOTED_TO_TRUE;\n    [anyProps: string]: any;\n}\nexport interface SetIsDotedToFalseAction {\n    type: constants.SET_IS_DOTED_TO_FALSE;\n    [anyProps: string]: any;\n}\n\nexport const addDataToMinePageActionCreator = (\n    payload: Array<MinePageDataItem>\n): AddDataToMinePageAction => {\n    //现在的payload是mine的datasource\n    return {\n        type: constants.ADD_DATA_TO_MINE_PAGE,\n        payload,\n    };\n};\nexport const setIsDotedToTrueActionCreator = (\n    payload: number\n): SetIsDotedToTrueAction => {\n    //现在的payload是mineItem的key\n    return {\n        type: constants.SET_IS_DOTED_TO_TRUE,\n        payload,\n    };\n};\nexport const setIsDotedToFalseActionCreator = (\n    payload: number\n): SetIsDotedToFalseAction => {\n    //现在的payload是mineItem的key\n    return {\n        type: constants.SET_IS_DOTED_TO_FALSE,\n        payload,\n    };\n};\n\n/**\n * studyItem相关的actioncreator\n */\nexport interface AddPurchasedLessonsToStudyPageAction {\n    type: constants.ADD_PURCHASED_LESSONS_TO_STUDY_PAGE;\n    [anyProps: string]: any;\n}\nexport const addPurchasedLessonsToStudyPageActionCreator = (\n    payload: StudyItemInt\n): AddPurchasedLessonsToStudyPageAction => {\n    return {\n        type: constants.ADD_PURCHASED_LESSONS_TO_STUDY_PAGE,\n        payload,\n    };\n};\n\n/**\n * 讲堂 -》 训练营相关的action 以及action creator\n */\nexport interface AddDataToPracticeCampAction {\n    type: constants.ADD_DATA_TO_PRACTICE_CAMP;\n    [anyProps: string]: any;\n}\nexport const addDataToPracticeCampActionCreator = (\n    payload: Array<PracticeCampItemInt>\n): AddDataToPracticeCampAction => {\n    //现在的payload是数据\n    return {\n        type: constants.ADD_DATA_TO_PRACTICE_CAMP,\n        payload,\n    };\n};\nexport interface SetPracticeCampToBePurchasedAction {\n    type: constants.SET_PRACTICE_CAMP_TO_BE_PURCHASED;\n    [anyProps: string]: any;\n}\nexport const setPracticeCampToBePurchasedActionCreator = (\n    payload: number\n): SetPracticeCampToBePurchasedAction => {\n    //现在的payload是 id\n    return {\n        type: constants.SET_PRACTICE_CAMP_TO_BE_PURCHASED,\n        payload,\n    };\n};\n\n/**\n * courseLessonItem相关的action creator\n */\nexport interface AddDataToCourseLessonAction {\n    type: constants.ADD_DATA_TO_COURSE_LESSON;\n    [anyProps: string]: any;\n}\nexport const addDataToCourseLessonActionCreator = (\n    payload: Array<CourseLessonItem>\n): AddDataToCourseLessonAction => {\n    //现在的payload是数据\n    return {\n        type: constants.ADD_DATA_TO_COURSE_LESSON,\n        payload,\n    };\n};\nexport interface RefreshCourseLessonAction {\n    type: constants.REFRESH_COURSE_LESSON;\n    [anyProps: string]: any;\n}\nexport const refreshCourseLessonActionCreator = (\n    payload: Array<CourseLessonItem>\n): RefreshCourseLessonAction => {\n    return {\n        type: constants.REFRESH_COURSE_LESSON,\n        payload,\n    };\n};\nexport interface SetLessonToBePurchasedAction {\n    type: constants.SET_LESSON_TO_BE_PURCHASED;\n    [anyProps: string]: any;\n}\nexport const setLessonToBePurchasedActionCreator = (\n    payload: number\n): SetLessonToBePurchasedAction => {\n    //现在的payload是索引\n    return {\n        type: constants.SET_LESSON_TO_BE_PURCHASED,\n        payload,\n    };\n};\n\n//声明Action的联合类型\nexport type ActionType =\n    | AddRecordToRechargeRecordAction\n    | BuyLessonAction\n    | RechargeAction\n    | AddDataToMinePageAction\n    | SetIsDotedToTrueAction\n    | SetIsDotedToFalseAction\n    | AddPurchasedLessonsToStudyPageAction\n    | AddDataToPracticeCampAction\n    | SetPracticeCampToBePurchasedAction\n    | AddDataToCourseLessonAction\n    | SetLessonToBePurchasedAction\n    | RefreshCourseLessonAction\n    | LoginOrRegisterAction;\n\n//声明ThunkAction\nexport type ThunkActionType = ThunkAction<any, RootState, any, ActionType>;\n\n// practiceCamp购买课程相关的action creator\nexport const practiceCampBuyLessonActionCreator = (\n    price: number,\n    index: number,\n    lesson: StudyItemInt\n): ThunkActionType => {\n    return (dispatch) => {\n        dispatch(buyLessonActionCreator(price));\n        dispatch(setIsDotedToTrueActionCreator(0));\n        dispatch(setIsDotedToTrueActionCreator(1));\n        dispatch(setIsDotedToTrueActionCreator(2));\n        dispatch(setPracticeCampToBePurchasedActionCreator(index));\n        dispatch(addPurchasedLessonsToStudyPageActionCreator(lesson));\n    };\n};\nexport const rechargeAndRecordActionCreator = (\n    howMuch: number\n): ThunkActionType => {\n    return (dispatch) => {\n        dispatch(rechargeActionCreator(howMuch));\n        dispatch(addRecordToRechargeRecordActionCreator(howMuch));\n        // console.log(getState().getIn(['rechargeRecordDataSource'].toJS()));\n    };\n};\nexport const lessonBuyLessonActionCreator = (\n    price: number,\n    index: number,\n    lesson: StudyItemInt\n): ThunkActionType => {\n    return (dispatch) => {\n        dispatch(buyLessonActionCreator(price));\n        dispatch(setIsDotedToTrueActionCreator(0));\n        dispatch(setIsDotedToTrueActionCreator(1));\n        dispatch(setIsDotedToTrueActionCreator(2));\n        dispatch(addPurchasedLessonsToStudyPageActionCreator(lesson));\n        dispatch(setLessonToBePurchasedActionCreator(index));\n    };\n};\n","import Mock from 'mockjs';\nconst courseLessons = require('./courseLessons.json');\n\nconst urlReg = /\\/mock\\/course\\/lesson\\?offset\\=(\\d{1,})/;\n\nconst data = Mock.mock(urlReg, function (option) {\n    const { url } = option;\n    const offset = parseInt(url.match(urlReg)[1]);\n\n    if (offset > 110) {\n        return null;\n    }\n\n    return {\n        data: courseLessons.slice(offset, offset + 10),\n        offset: offset + 10,\n    };\n\n    // return courseLessons.slice(offset,offset + 10);\n});\n\nexport default data;\n"],"sourceRoot":""}